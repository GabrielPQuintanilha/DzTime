üïí DzTime v2.1 ‚Äî Single Script Edition
üìò Sobre

DzTime √© um web app criado por Gabriel Quintanilha que exibe informa√ß√µes em tempo real sobre servidores DayZ listados na BattleMetrics API.

A vers√£o 2.1 aprimora o suporte a m√∫ltiplos servidores, adiciona o campo de mapa (Chernarus / Livonia), atualiza a l√≥gica de tempo simulada para cada um deles e reduz o intervalo de atualiza√ß√£o da API para 1 minuto.

üß† Objetivo

Monitorar o hor√°rio interno de servidores DayZ e calcular o tempo restante at√© o anoitecer (18h) ou amanhecer (6h) dentro do jogo ‚Äî auxiliando jogadores a planejarem login e a√ß√µes com base no ciclo de tempo acelerado de cada mapa.

‚öôÔ∏è Estrutura do c√≥digo
/* 
#---------head--------------#
# Nome: DzTime
# Autor: Gabriel Quintanilha
# Vers√£o: 2.1 (Single Script Edition)
# Web app que mostra hor√°rio do server e informa√ß√µes relevantes
*/

/* #---------Configura√ß√£o---------# */
// Define servidores monitorados (id, nome, mapa), API proxy e container HTML.

/* #---------Utilidades---------# */
// Fun√ß√µes auxiliares: c√°lculo de tempo, formata√ß√£o, simula√ß√£o.

/* #---------Servi√ßo da API---------# */
// Consulta BattleMetrics para obter status, hor√°rio e jogadores.

/* #---------Renderiza√ß√£o---------# */
// Cria e atualiza os cards visuais no DOM.

/* #---------Execu√ß√£o principal---------# */
// Faz atualiza√ß√£o autom√°tica dos dados e simula√ß√£o de tempo.

üß© Tecnologias

- HTML + CSS + JavaScript puro

- BattleMetrics API

- AllOrigins (proxy CORS)

- GitHub Pages (deploy)

üí° Funcionamento

1. O script consulta os servidores definidos:

https://api.allorigins.win/raw?url=https://api.battlemetrics.com/servers/[ID]


2. Exibe para cada servidor:

- Nome

- Mapa (Chernarus / Livonia)

Status (online/offline)

- Jogadores ativos

- Hor√°rio interno (tempo simulado)

- Tempo restante at√© o pr√≥ximo marco (06h ou 18h)

3. Atualiza√ß√µes autom√°ticas:

- Exibi√ß√£o: a cada 1 segundo

- Dados da API: a cada 1 minuto

üïí L√≥gica de tempo no jogo

A velocidade do tempo em DayZ varia conforme o mapa e o per√≠odo do dia.
O sistema do DzTime simula isso automaticamente:

Mapa	Per√≠odo	Multiplicador
Chernarus	Dia (06h‚Äì18h)	4.2x
Chernarus	Noite (18h‚Äì06h)	16.8x
Livonia	Dia (06h‚Äì18h)	5.4x
Livonia	Noite (18h‚Äì06h)	‚âà11.7x (5.4 √ó 2.17)

Esses multiplicadores s√£o aplicados automaticamente com base no campo map definido no array SERVERS.

‚öôÔ∏è Estrutura do array de servidores
const SERVERS = [
  { id: "27886151", label: "0724 | SOUTH AMERICA - SP | 1st Person Only", map: "Chernarus" },
  { id: "29986609", label: "0742 | SOUTH AMERICA - SP | 1st Person Only", map: "Livonia" },
];

üöÄ Instala√ß√£o

1. Fa√ßa fork deste reposit√≥rio.

2. Abra o arquivo index.html no navegador ou publique via GitHub Pages.

3. A p√°gina ser√° atualizada automaticamente, exibindo o status em tempo real.

üß± Changelog
v2.3

- Links clic√°veis para os mapas **Chernarus** e **Livonia**, abrindo diretamente no **dayz.xam.nu**.
- Exibi√ß√£o autom√°tica da **vers√£o do programa** no rodap√©.
- Corrigido efeito de ‚Äúpiscada‚Äù nos cards ao passar o mouse, causado pela recria√ß√£o constante do HTML.

v2.2

- Atualiza√ß√µes de servidores agora ocorrem em paralelo (Promise.all) para evitar atrasos entre mapas.

- Removida a simula√ß√£o de tempo local (advanceSimulatedTime), exibindo o hor√°rio exatamente como fornecido pela API BattleMetrics.

- Intervalo de atualiza√ß√£o da API ajustado para 1 minuto.

- C√≥digo simplificado e mais est√°vel para execu√ß√£o em GitHub Pages.

v2.1

- Adicionado campo map (Chernarus / Livonia).

- L√≥gica de tempo ajustada para multiplicadores espec√≠ficos de cada mapa.

- Atualiza√ß√£o da API reduzida de 2 minutos para 1 minuto.

- Renderiza√ß√£o aprimorada com exibi√ß√£o do nome do mapa.

v2.0 ‚Äî Single Script Edition

- C√≥digo consolidado em um √∫nico arquivo de script.

- Suporte a m√∫ltiplos servidores.

- Simula√ß√£o de tempo baseada em multiplicadores diurno/noturno (4.2x / 16.8x).

- Interface aprimorada e mais leve.

## üêû Known Issues
- BattleMetrics e proxies p√∫blicos (como AllOrigins) podem falhar temporariamente com erro CORS 500.

- Caso o proxy esteja offline, o hor√°rio exibido pode congelar at√© a pr√≥xima atualiza√ß√£o bem-sucedida.

- O hor√°rio exibido √© exato da API ‚Äî sem compensa√ß√£o de defasagem de atualiza√ß√£o.

üßæ Licen√ßa

Uso livre para fins educacionais e de hobby.
Autor: Gabriel Quintanilha ‚Äî Rio de Janeiro, 2025.